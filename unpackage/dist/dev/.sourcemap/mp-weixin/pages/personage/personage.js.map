{"version":3,"file":"personage.js","sources":["pages/personage/personage.vue","../../../../../HBuilderX.4.15.2024050802/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcGVyc29uYWdlL3BlcnNvbmFnZS52dWU"],"sourcesContent":["<template>\r\n  <view class=\"page-container\">\r\n    <view class=\"custom-nav-bar\" id=\"navBar\">\r\n      <view class=\"nav-title\">个人中心</view>\r\n      <view class=\"head-box\" @click=\"openPopup\">\r\n        <view class=\"heads\">\r\n          <!-- <button class=\"btnLogin\" open-type=\"getPhoneNumber\" bindgetphonenumber=\"getPhoneNumber\"></button> -->\r\n          <image\r\n            :src=\"\r\n              loginStatus\r\n                ? '../../static/headshot2.png'\r\n                : '../../static/headshot1.png'\r\n            \"\r\n            mode=\"\"\r\n          />\r\n        </view>\r\n        <view class=\"texts\" v-if=\"!loginStatus\">\r\n          <view class=\"ts1\"> 未登录/注册 </view>\r\n          <!-- <view class=\"ts1\">\r\n\t\t\t\t\t\t{{ username }}\r\n\t\t\t\t\t</view> -->\r\n          <view class=\"ts2\"> 点击头像可登录/注册 </view>\r\n        </view>\r\n        <view class=\"account\" v-else>\r\n          {{ account }}\r\n        </view>\r\n      </view>\r\n    </view>\r\n    <view class=\"pers\">\r\n      <view class=\"items\">\r\n        <view class=\"tts\">常用服务</view>\r\n        <view class=\"sss\">\r\n          <view class=\"s1\" @click=\"navigate\" data-url=\"/pkgA/mysubmit/mysubmit\">\r\n            <image src=\"../../static/submit.png\" mode=\"\" />\r\n            <view style=\"margin-top: 5px\">我的投递</view>\r\n          </view>\r\n          <view class=\"s1\" @click=\"navigate\" data-url=\"/pkgA/resume/resume\">\r\n            <image src=\"../../static/分组 1@2x.png\" mode=\"\" />\r\n            <view style=\"margin-top: 5px\">我的简历</view>\r\n          </view>\r\n          <view\r\n            class=\"s1\"\r\n            @click=\"navigate\"\r\n            data-url=\"/pkgA/collection/collection\"\r\n          >\r\n            <image src=\"../../static/collect.png\" mode=\"\" />\r\n            <view style=\"margin-top: 5px\">我的收藏</view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n      <view class=\"items\">\r\n        <view class=\"tts\">其他服务</view>\r\n        <view class=\"sss\">\r\n          <view class=\"s2\" @click=\"navigate\" data-url=\"/pkgA/about/about\">\r\n            <image\r\n              style=\"width: 30px; height: 26px\"\r\n              src=\"../../static/about.png\"\r\n              mode=\"\"\r\n            />\r\n            <view style=\"margin-top: 5px\">关于我们</view>\r\n          </view>\r\n          <view class=\"s2\" @click=\"navigate\" data-url=\"/pkgA/privacy/privacy\">\r\n            <image\r\n              style=\"width: 24.16px; height: 26px\"\r\n              src=\"../../static/yinsi.png\"\r\n              mode=\"\"\r\n            />\r\n            <view style=\"margin-top: 5px\">隐私政策</view>\r\n          </view>\r\n          <view class=\"s2\" @click=\"navigate\" data-url=\"/pkgA/service/service\">\r\n            <image\r\n              style=\"width: 24.53px; height: 26px\"\r\n              src=\"../../static/service.png\"\r\n              mode=\"\"\r\n            />\r\n            <view style=\"margin-top: 5px\">服务协议</view>\r\n          </view>\r\n          <view class=\"s2\" @click=\"navigate\" data-url=\"/pkgA/law/law\">\r\n            <image\r\n              style=\"width: 23px; height: 26px\"\r\n              src=\"../../static/law.png\"\r\n              mode=\"\"\r\n            />\r\n            <view style=\"margin-top: 5px\">法律声明</view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n  </view>\r\n  <uni-popup ref=\"popups\" type=\"bottom\" mask=\"true\" @change=\"change\">\r\n    <view class=\"popup-content\">\r\n      <Login\r\n        :show=\"showLogin\"\r\n        @loginSuccess=\"handleLoginSuccess\"\r\n        @hideLoginView=\"handleClose\"\r\n      />\r\n    </view>\r\n  </uni-popup>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from \"vue\";\r\nimport Login from \"../../components/Login.vue\";\r\n\r\nfunction navigate(e) {\r\n  console.log(e.currentTarget.dataset);\r\n  uni.navigateTo({\r\n    url: e.currentTarget.dataset.url,\r\n  });\r\n}\r\nconst loginStatus = ref(false); // 登录状态\r\nconst account = ref();\r\nloginStatus.value = uni.getStorageSync(\"loginStatus\") || false; // 获取登录状态\r\nif (loginStatus.value) {\r\n  account.value = formatPhoneNumber(uni.getStorageSync(\"account\"));\r\n}\r\nconst showLogin = ref(false);\r\nconst popups = ref();\r\n// 打开弹窗\r\nconst openPopup = (e) => {\r\n  if (popups.value) {\r\n    //uni.hideTabBar();\r\n    showLogin.value = true;\r\n    popups.value.open();\r\n  }\r\n};\r\n\r\n// 关闭弹窗\r\nconst closePopup = () => {\r\n  if (popups.value) {\r\n    popups.value.close();\r\n  }\r\n};\r\n\r\nconst change = (event) => {\r\n  console.log(\"Popup state changed\");\r\n  if (!event.show) {\r\n    console.log(\"点击了蒙层，弹窗已关闭\");\r\n    showLogin.value = false;\r\n    // 在这里写点击蒙层后的逻辑\r\n    //uni.showTabBar();\r\n  }\r\n};\r\nfunction handleLoginSuccess(payload) {\r\n  // 可以在这里执行登录成功后的其他逻辑\r\n  if (payload) {\r\n    loginStatus.value = true; // 更新登录状态\r\n    // 更新 account 的值\r\n    account.value = formatPhoneNumber(uni.getStorageSync(\"account\"));\r\n    // 关闭弹窗\r\n    showLogin.value = false;\r\n    closePopup();\r\n  }\r\n}\r\nfunction handleClose(e) {\r\n  // 处理关闭事件\r\n  showLogin.value = false;\r\n  closePopup();\r\n}\r\nfunction formatPhoneNumber(phone) {\r\n  if (!phone) return \"\";\r\n  return phone.replace(/(\\d{3})\\d{4}(\\d{4})/, \"$1****$2\");\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.page-container {\r\n  background: linear-gradient(to bottom, #dbe8ff, #f5f5f5 50%);\r\n  backdrop-filter: blur(87px);\r\n  height: 100vh;\r\n  /* 使用视口高度确保填充整个页面 */\r\n  width: 100vw;\r\n  /* 使用视口宽度确保填充整个页面 */\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.custom-nav-bar {\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  padding: 0 16px;\r\n  z-index: 10;\r\n  /* 确保导航栏在最顶层 */\r\n  transition: top 0.3s ease-in-out;\r\n  /* 平滑过渡效果 */\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 100;\r\n  height: 250px;\r\n}\r\n\r\n.nav-title {\r\n  position: absolute;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  top: 53.79px;\r\n  width: 90px;\r\n  height: 27px;\r\n  opacity: 0.9;\r\n  font-size: 18px;\r\n  font-weight: 500;\r\n  letter-spacing: 0px;\r\n  line-height: 26.06px;\r\n  color: black;\r\n  text-align: center;\r\n  vertical-align: top;\r\n}\r\n\r\n.pers {\r\n  position: fixed;\r\n  top: 220px;\r\n  width: 100%;\r\n\r\n  opacity: 1;\r\n  z-index: 1000;\r\n  border-radius: 25px 25px 0px 0px;\r\n  //   background: linear-gradient(\r\n  //     180deg,\r\n  //     rgba(227, 238, 255, 1) 0%,\r\n  //     rgba(232, 241, 255, 1) 0%,\r\n  //     rgba(241, 242, 243, 1) 26.39%,\r\n  //     rgba(247, 247, 247, 1) 58.08%\r\n  //   );\r\n}\r\n\r\n.items {\r\n  width: 90vw;\r\n  margin-left: 5vw;\r\n  margin-top: 2vh;\r\n  height: 104px;\r\n  opacity: 1;\r\n  border-radius: 15px;\r\n  background: rgba(255, 255, 255, 1);\r\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.tts {\r\n  position: relative;\r\n  top: 7px;\r\n  left: 17px;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  letter-spacing: 0px;\r\n  line-height: 20.27px;\r\n  color: rgba(56, 56, 56, 1);\r\n  text-align: left;\r\n  vertical-align: top;\r\n}\r\n\r\n.sss {\r\n  margin-top: 18px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n}\r\n\r\n.s1 {\r\n  font-size: 12px;\r\n  font-weight: 400;\r\n  letter-spacing: 0px;\r\n  line-height: 17.38px;\r\n  color: rgba(56, 56, 56, 1);\r\n  text-align: center;\r\n  vertical-align: top;\r\n}\r\n\r\n.s2 {\r\n  font-size: 12px;\r\n  font-weight: 400;\r\n  letter-spacing: 0px;\r\n  line-height: 17.38px;\r\n  color: rgba(56, 56, 56, 1);\r\n  text-align: center;\r\n  vertical-align: top;\r\n}\r\n\r\n.s1 image {\r\n  width: 28.8px;\r\n  height: 27.88px;\r\n}\r\n\r\n.heads image {\r\n  border-radius: 50%;\r\n  width: 65px;\r\n  height: 65px;\r\n}\r\n\r\n.head-box {\r\n  left: 31px;\r\n  top: 114px;\r\n  position: fixed;\r\n  width: 300px;\r\n}\r\n\r\n.ts1 {\r\n  position: fixed;\r\n  left: 112px;\r\n  top: 120px;\r\n  width: 98px;\r\n  height: 28px;\r\n  opacity: 1;\r\n  /** 文本1 */\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  letter-spacing: 0px;\r\n  line-height: 20.27px;\r\n  color: rgba(0, 0, 0, 1);\r\n  text-align: left;\r\n  vertical-align: top;\r\n}\r\n\r\n.ts2 {\r\n  position: fixed;\r\n  left: 112px;\r\n  top: 152px;\r\n  width: 136px;\r\n  height: 22px;\r\n  opacity: 1;\r\n  /** 文本1 */\r\n  font-size: 11px;\r\n  font-weight: 400;\r\n  letter-spacing: 0px;\r\n  line-height: 15.93px;\r\n  color: rgba(56, 56, 56, 1);\r\n  text-align: left;\r\n  vertical-align: top;\r\n}\r\n.account {\r\n  position: fixed;\r\n  left: 112px;\r\n  top: 125px;\r\n  width: 98px;\r\n  height: 28px;\r\n  opacity: 1;\r\n  /** 文本1 */\r\n  font-size: 14px;\r\n  font-weight: 400;\r\n  letter-spacing: 0px;\r\n  line-height: 18.82px;\r\n  color: rgba(128, 128, 128, 1);\r\n  text-align: left;\r\n  vertical-align: top;\r\n}\r\n.btnLogin {\r\n  width: 250px;\r\n  height: 46px;\r\n  position: absolute;\r\n  opacity: 0;\r\n}\r\n\r\n.bg {\r\n  display: none;\r\n  position: absolute;\r\n\r\n  left: 0%;\r\n  width: 100vw;\r\n  height: 1400px;\r\n  background-color: black;\r\n  z-index: 1001;\r\n  -moz-opacity: 0.7;\r\n  opacity: 0.7;\r\n  filter: alpha(opacity=70);\r\n}\r\n\r\n.loginMode {\r\n  width: 100vw;\r\n  height: auto;\r\n  opacity: 1;\r\n  border-top-left-radius: 12px;\r\n  /* 设置左上角圆角 */\r\n  border-top-right-radius: 12px;\r\n  /* 设置右上角圆角 */\r\n  background: rgba(255, 255, 255, 1);\r\n  position: fixed;\r\n  z-index: 2000;\r\n  bottom: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.temt {\r\n  font-size: 18px;\r\n  font-weight: 500;\r\n  letter-spacing: 0px;\r\n  line-height: 26.06px;\r\n  color: rgba(0, 0, 0, 1);\r\n  text-align: center;\r\n  vertical-align: top;\r\n  margin-top: 15px;\r\n}\r\n\r\n.ser {\r\n  font-size: 12px;\r\n  font-weight: 400;\r\n  letter-spacing: 0px;\r\n  line-height: 17.38px;\r\n  color: rgba(0, 0, 0, 1);\r\n  text-align: center;\r\n  vertical-align: top;\r\n  margin-top: 8px;\r\n}\r\n\r\n.phonelogin {\r\n  width: 250px;\r\n  height: 46px;\r\n  opacity: 1;\r\n  border-radius: 23px;\r\n  background: rgba(80, 177, 178, 1);\r\n  margin: auto;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 16px;\r\n  font-weight: 400;\r\n  letter-spacing: 0px;\r\n  line-height: 23.17px;\r\n  color: rgba(255, 255, 255, 1);\r\n  text-align: justify;\r\n  vertical-align: top;\r\n  margin-top: 20px;\r\n  margin-bottom: 20px;\r\n  position: relative;\r\n}\r\n\r\n.phonelogin image {\r\n  width: 12.07px;\r\n  height: 17.93px;\r\n  margin-right: 15px;\r\n}\r\n\r\n.meng {\r\n  background-color: rgb(160, 70, 70, 0);\r\n  width: 250px;\r\n  height: 46px;\r\n  position: absolute;\r\n  margin-top: 20px;\r\n  border-radius: 23px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  /* 旋转并保持居中 */\r\n  z-index: 10;\r\n}\r\n\r\n.mengs {\r\n  background-color: rgb(160, 70, 70, 0);\r\n  width: 250px;\r\n  height: 46px;\r\n  position: absolute;\r\n  margin-top: 86px;\r\n  border-radius: 23px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  /* 旋转并保持居中 */\r\n  z-index: 10;\r\n}\r\n\r\n.msglogin image {\r\n  width: 17.5px;\r\n  height: 17.5px;\r\n  margin-right: 15px;\r\n}\r\n\r\n.msglogin {\r\n  width: 250px;\r\n  height: 46px;\r\n  opacity: 1;\r\n  border-radius: 23px;\r\n  background: rgba(229, 229, 229, 1);\r\n  font-size: 16px;\r\n  font-weight: 400;\r\n  letter-spacing: 0px;\r\n  line-height: 23.17px;\r\n  color: rgba(56, 56, 56, 1);\r\n  text-align: justify;\r\n  vertical-align: top;\r\n  margin: auto;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.ist {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 10px;\r\n  font-weight: 400;\r\n  letter-spacing: 0px;\r\n  line-height: 14.48px;\r\n  color: rgba(0, 0, 0, 1);\r\n  text-align: justify;\r\n  vertical-align: top;\r\n  margin: auto;\r\n  margin-bottom: 40px;\r\n}\r\n\r\n.gous {\r\n  width: 14px;\r\n  height: 14px;\r\n  border-radius: 2px;\r\n  border: 2px solid rgba(80, 177, 178, 1);\r\n  margin-right: 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.gous image {\r\n  width: 11px;\r\n  height: 8px;\r\n}\r\n\r\n.chas {\r\n  position: absolute;\r\n  width: 20px;\r\n  height: 20px;\r\n  top: 11px;\r\n  right: 13px;\r\n}\r\n\r\n.popup-content {\r\n  background-color: #fff;\r\n  border-top-left-radius: 10px;\r\n  border-top-right-radius: 10px;\r\n  min-height: 254px;\r\n  width: 100%;\r\n}\r\n</style>\r\n","import MiniProgramPage from 'C:/Users/86158/Documents/HBuilderProjects/CampusAmbassador/pages/personage/personage.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","ref"],"mappings":";;;;;;;;;;;AAsGA,MAAM,QAAQ,MAAW;;;;AAEzB,aAAS,SAAS,GAAG;AACnBA,oBAAY,MAAA,MAAA,OAAA,wCAAA,EAAE,cAAc,OAAO;AACnCA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,EAAE,cAAc,QAAQ;AAAA,MACjC,CAAG;AAAA,IACH;AACA,UAAM,cAAcC,cAAAA,IAAI,KAAK;AAC7B,UAAM,UAAUA,cAAG,IAAA;AACnB,gBAAY,QAAQD,cAAG,MAAC,eAAe,aAAa,KAAK;AACzD,QAAI,YAAY,OAAO;AACrB,cAAQ,QAAQ,kBAAkBA,cAAG,MAAC,eAAe,SAAS,CAAC;AAAA,IACjE;AACA,UAAM,YAAYC,cAAAA,IAAI,KAAK;AAC3B,UAAM,SAASA,cAAG,IAAA;AAElB,UAAM,YAAY,CAAC,MAAM;AACvB,UAAI,OAAO,OAAO;AAEhB,kBAAU,QAAQ;AAClB,eAAO,MAAM;MACd;AAAA,IACH;AAGA,UAAM,aAAa,MAAM;AACvB,UAAI,OAAO,OAAO;AAChB,eAAO,MAAM;MACd;AAAA,IACH;AAEA,UAAM,SAAS,CAAC,UAAU;AACxBD,oBAAAA,MAAY,MAAA,OAAA,wCAAA,qBAAqB;AACjC,UAAI,CAAC,MAAM,MAAM;AACfA,sBAAAA,2DAAY,aAAa;AACzB,kBAAU,QAAQ;AAAA,MAGnB;AAAA,IACH;AACA,aAAS,mBAAmB,SAAS;AAEnC,UAAI,SAAS;AACX,oBAAY,QAAQ;AAEpB,gBAAQ,QAAQ,kBAAkBA,cAAG,MAAC,eAAe,SAAS,CAAC;AAE/D,kBAAU,QAAQ;AAClB;MACD;AAAA,IACH;AACA,aAAS,YAAY,GAAG;AAEtB,gBAAU,QAAQ;AAClB;IACF;AACA,aAAS,kBAAkB,OAAO;AAChC,UAAI,CAAC;AAAO,eAAO;AACnB,aAAO,MAAM,QAAQ,uBAAuB,UAAU;AAAA,IACxD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjKA,GAAG,WAAW,eAAe;"}