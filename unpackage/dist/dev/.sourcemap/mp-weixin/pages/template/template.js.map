{"version":3,"file":"template.js","sources":["pages/template/template.vue","../../../../../HBuilderX.4.15.2024050802/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdGVtcGxhdGUvdGVtcGxhdGUudnVl"],"sourcesContent":["<template>\r\n  <loading :show=\"isLoading\"></loading>\r\n  <view class=\"page-container\">\r\n    <view class=\"theme\">简历模板</view>\r\n    <img class=\"tu1\" src=\"../../static/Vertical@2x.png\" alt=\"\" />\r\n    <img class=\"tu2\" src=\"../../static/_recruitment@2x.png\" alt=\"\" />\r\n    <img class=\"tu3\" src=\"../../static/简历制作神器@2x.png\" alt=\"\" />\r\n    <text class=\"tu4\">— — 丰富模版 · 文档编辑 · 实时预览 · 免费下载 — — </text>\r\n    <view class=\"ke\">\r\n      <view style=\"width: 100%; display: flex; justify-content: space-between\">\r\n        <view\r\n          class=\"type\"\r\n          :class=\"{ activeType: item.flag }\"\r\n          v-for=\"(item, index) in types\"\r\n          :key=\"index\"\r\n          @click=\"changeType(item)\"\r\n          >{{ item.name }}</view\r\n        >\r\n      </view>\r\n      <view class=\"mobans\">\r\n        <view\r\n          class=\"moban\"\r\n          v-for=\"(item, index) in mobans\"\r\n          :key=\"index\"\r\n          @click=\"navs\"\r\n        >\r\n          <img class=\"moban-img\" :src=\"item.img\" alt=\"\" />\r\n          <view class=\"line\"></view>\r\n          <img src=\"../../static/下载@2x.png\" alt=\"\" class=\"download\" />\r\n          <text class=\"sum\">{{ item.sum }}</text>\r\n          <img src=\"../../static/collect.png\" alt=\"\" class=\"collect\" />\r\n        </view>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from \"vue\";\r\nimport { onShow, onLoad,onReachBottom } from \"@dcloudio/uni-app\";\r\nimport { getResumeTemplate } from \"@/api/index.js\";\r\nimport { pageStore } from \"@/store\";\r\nimport Loading from \"../../components/Loading.vue\";\r\nconst isLoading = ref(true);\r\nconst pageInfo = pageStore();\r\nconst types = ref([\r\n  {\r\n    name: \"通用\",\r\n    flag: true,\r\n  },\r\n  {\r\n    name: \"简约\",\r\n    flag: false,\r\n  },\r\n  {\r\n    name: \"现代\",\r\n    flag: false,\r\n  },\r\n  {\r\n    name: \"经典\",\r\n    flag: false,\r\n  },\r\n  {\r\n    name: \"创意\",\r\n    flag: false,\r\n  },\r\n  {\r\n    name: \"专业\",\r\n    flag: false,\r\n  },\r\n  {\r\n    name: \"英文\",\r\n    flag: false,\r\n  },\r\n]);\r\nconst mobans = ref([\r\n  {\r\n    img: \"../../static/模板1@2x.png\",\r\n    sum: 5000,\r\n  },\r\n  {\r\n    img: \"../../static/模板1@2x (1).png\",\r\n    sum: 5000,\r\n  },\r\n  {\r\n    img: \"../../static/模板1@2x (2).png\",\r\n    sum: 5000,\r\n  },\r\n  {\r\n    img: \"../../static/模板1@2x (3).png\",\r\n    sum: 5000,\r\n  },\r\n]);\r\n// 页面加载时执行的逻辑\r\nonLoad(async () => {\r\n  console.log(\"页面加载\");\r\n  mobans.value = []; // 清空 items 数组\r\n  try {\r\n    isLoading.value = true; // 显示加载状态\r\n    const arr = await getResumeTemplate(pageInfo.templateInfo);\r\n\r\n    console.log(\"获取到的简历模板数据:\", arr);\r\n    arr.forEach((e) => {\r\n      mobans.value.push({\r\n        id: e.id,\r\n        img: 'https://picsum.photos/400'||e.templateSampleGraph,\r\n        sum: e.downloadNumber,\r\n      });\r\n    });\r\n    isLoading.value = false; // 隐藏加载状态\r\n  } catch (error) {\r\n    console.error(\"获取数据失败:\", error);\r\n    isLoading.value = false; // 隐藏加载状态\r\n    uni.showToast({\r\n      title: \"加载数据失败\",\r\n      icon: \"error\",\r\n    });\r\n  }\r\n});\r\nonShow(() => {\r\n  // 页面显示时执行的逻辑\r\n  console.log(\"页面显示\");\r\n});\r\n// 监听触底事件\r\nonReachBottom (async() =>  {\r\n  pageInfo.getTemplatePage();\r\n  console.log(\"触底了\",pageInfo.templateInfo);\r\n  try {\r\n  isLoading.value = true; // 显示加载状态\r\n  const arr = await getResumeTemplate(pageInfo.templateInfo);\r\n  console.log(\"获取到的更多简历模板数据:\", arr);\r\n  if (arr.length === 0) {\r\n    uni.showToast({\r\n      title: '没有更多数据了',\r\n      icon: 'none'\r\n    });\r\n    isLoading.value = false; // 隐藏加载状态\r\n    pageInfo.lowTemplatePage();\r\n    return;\r\n  }\r\n  arr.forEach((e) => {\r\n    mobans.value.push({\r\n      id: e.id,\r\n      img: 'https://picsum.photos/400'||e.templateSampleGraph,\r\n      sum: e.downloadNumber,\r\n    });\r\n  });\r\n  isLoading.value = false; // 隐藏加载状态\r\n} catch (error) {\r\n    console.error(\"获取数据失败:\", error);\r\n    isLoading.value = false; // 隐藏加载状态\r\n    uni.showToast({\r\n      title: '加载数据失败',\r\n      icon: 'error'\r\n    });\r\n  }\r\n});\r\nconst changeType = async (i) => {\r\n  types.value.forEach((item) => {\r\n    item.flag = false;\r\n  });\r\n  i.flag = true;\r\n  pageInfo.filterTemplatePage({\r\n    type: i.name,\r\n  });\r\n  mobans.value = []; // 清空 items 数组\r\n  try {\r\n    isLoading.value = true; // 显示加载状态\r\n    const arr = await getResumeTemplate(pageInfo.templateInfo);\r\n\r\n    console.log(\"获取到的新简历模板数据:\", arr);\r\n    arr.forEach((e) => {\r\n      mobans.value.push({\r\n        id: e.id,\r\n        img:  'https://picsum.photos/400'||e.templateSampleGraph,\r\n        sum: e.downloadNumber,\r\n      });\r\n    });\r\n    isLoading.value = false; // 隐藏加载状态\r\n  } catch (error) {\r\n    console.error(\"获取数据失败:\", error);\r\n    isLoading.value = false; // 隐藏加载状态\r\n    uni.showToast({\r\n      title: \"加载数据失败\",\r\n      icon: \"error\",\r\n    });\r\n  }\r\n};\r\nconst navs = () => {\r\n  uni.navigateTo({\r\n    url: \"/pkgA/preview/preview\",\r\n  });\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.page-container {\r\n  background: linear-gradient(to bottom, #dbe8ff, #f5f5f5 50%);\r\n  backdrop-filter: blur(87px);\r\n  height: 120vh;\r\n  /* 使用视口高度确保填充整个页面 */\r\n  width: 100vw;\r\n  /* 使用视口宽度确保填充整个页面 */\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.theme {\r\n  position: absolute;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  top: 53.79px;\r\n  width: 90px;\r\n  height: 27px;\r\n  opacity: 0.9;\r\n  /** 文本1 */\r\n  font-size: 18px;\r\n  font-weight: 500;\r\n  letter-spacing: 0px;\r\n  line-height: 26.06px;\r\n  color: rgba(0, 0, 0, 1);\r\n  text-align: center;\r\n  vertical-align: top;\r\n}\r\n\r\n.tu1 {\r\n  position: absolute;\r\n  left: 31px;\r\n  top: 99px;\r\n  width: 114px;\r\n  height: 28px;\r\n  opacity: 1;\r\n  /** 文本1 */\r\n  font-size: 20px;\r\n  font-weight: 400;\r\n  letter-spacing: 0px;\r\n  line-height: 31.13px;\r\n  color: rgba(0, 79, 168, 1);\r\n  text-align: left;\r\n  vertical-align: top;\r\n}\r\n\r\n.tu2 {\r\n  position: absolute;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  top: 127px;\r\n  width: 134px;\r\n  height: 24px;\r\n  opacity: 1;\r\n  /** 文本1 */\r\n  font-size: 16px;\r\n  font-weight: 400;\r\n  letter-spacing: 0px;\r\n  line-height: 24.91px;\r\n  color: rgba(2, 85, 181, 1);\r\n  text-align: left;\r\n  vertical-align: top;\r\n}\r\n\r\n.tu3 {\r\n  position: absolute;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  top: 155px;\r\n  width: 198px;\r\n  height: 41px;\r\n  opacity: 1;\r\n  /** 文本1 */\r\n  font-size: 32px;\r\n  font-weight: 400;\r\n  letter-spacing: 0px;\r\n  line-height: 38.4px;\r\n  color: rgba(0, 79, 168, 1);\r\n  text-align: left;\r\n  vertical-align: top;\r\n}\r\n\r\n.tu4 {\r\n  position: absolute;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  top: 203px;\r\n  width: 320px;\r\n  height: 13px;\r\n  opacity: 1;\r\n  /** 文本1 */\r\n  font-size: 11px;\r\n  font-weight: 400;\r\n  letter-spacing: 0px;\r\n  line-height: 15.93px;\r\n  color: rgba(112, 122, 128, 1);\r\n  text-align: center;\r\n  vertical-align: top;\r\n}\r\n\r\n.ke {\r\n  position: absolute;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  width: 92vw;\r\n  top: 240px;\r\n  padding-bottom: 30px;\r\n}\r\n\r\n.type {\r\n  width: 46px;\r\n  height: 24px;\r\n  opacity: 1;\r\n  border-radius: 12.5px;\r\n  background: rgb(255, 255, 255);\r\n  font-size: 11px;\r\n  font-weight: 500;\r\n  letter-spacing: 0px;\r\n  color: rgb(0, 0, 0);\r\n  text-align: center;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.activeType {\r\n  background: rgba(79, 120, 255, 1);\r\n  color: rgba(255, 255, 255, 1);\r\n}\r\n\r\n.mobans {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: space-between;\r\n}\r\n\r\n.moban {\r\n  width: 48%;\r\n  margin-top: 12px;\r\n  height: 261.51px;\r\n  opacity: 1;\r\n  border-radius: 5px;\r\n  background: rgba(255, 255, 255, 1);\r\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.05);\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.line {\r\n  position: absolute;\r\n  bottom: 22px;\r\n  top: 239.52px;\r\n  width: 100%;\r\n  height: 0px;\r\n  opacity: 1;\r\n  border: 0.01px solid rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.moban-img {\r\n  position: absolute;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  top: 5px;\r\n  width: 96%;\r\n  height: 231px;\r\n  opacity: 1;\r\n}\r\n\r\n.download {\r\n  position: absolute;\r\n  left: 14px;\r\n  bottom: 5.5px;\r\n  width: 12px;\r\n  height: 12px;\r\n  opacity: 1;\r\n}\r\n\r\n.sum {\r\n  position: absolute;\r\n  left: 31px;\r\n  bottom: 5.5px;\r\n  font-size: 7px;\r\n  font-weight: 400;\r\n  letter-spacing: 0px;\r\n  line-height: 10.14px;\r\n  color: rgba(67, 79, 120, 1);\r\n  text-align: left;\r\n  vertical-align: top;\r\n}\r\n\r\n.collect {\r\n  position: absolute;\r\n  width: 11px;\r\n  height: 11px;\r\n  right: 13px;\r\n  bottom: 5.5px;\r\n}\r\n</style>\r\n","import MiniProgramPage from 'C:/Users/86158/Documents/HBuilderProjects/CampusAmbassador/pages/template/template.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","pageStore","onLoad","uni","getResumeTemplate","onShow","onReachBottom"],"mappings":"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"}